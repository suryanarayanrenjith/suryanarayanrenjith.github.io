<!--@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@                    ,@@@@@@@@@@@@@@@                         ,@@@@@@@@@@
    @@@@.                          %@@@@@@@@@@@                              *@@@@@@
    @@,                             @@@@@@@@@@                                 &@@@@
    @.            &@@@@@@@@         @@@@@@@@@@            @@@@@@@@@             %@@@
    @           (@@@@@@@@@@@@@@@(((@@@@@@@@@@@           @@@@@@@@@@@@            @@@
    @           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@#           @@@
    @             @@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@,           @@@
    @@                 @@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@           @@@@
    @@@                      *@@@@@@@@@@@@@@@@           @@@@@@@@@             @@@@@
    @@@@@@                        @@@@@@@@@@@@           @@@                @@@@@@@@
    @@@@@@@@@@                      @@@@@@@@@@           @&             @@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@                @@@@@@@@@           @@@&              @@@@@@@@@
    @@@@@@@@@@@@@@@@@@@@@             @@@@@@@@           @@@@@@,             @@@@@@@
    @@@@@@@@@@@@@@@@@@@@@@.           @@@@@@@@           @@@@@@@@@             @@@@@
    @/      @@@@@@@@@@@@@@            @@@@@@@@           @@@@@@@@@@@             @@@
               @@@@@@@@@             @@@@@@@@@           @@@@@@@@@@@@*            @@
    @                               @@@@@@@@@@           @@@@@@@@@@@@@@            @
    @@                            @@@@@@@@@@@@           @@@@@@@@@@@@@@@            
    @@@@@                     %@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@           
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Surya Website" />
    <meta property="og:description" content="Fusing Imagination with Innovation." />
    <meta property="og:image" content="https://surya.is-a.dev/assets/bg.png" />
    <meta property="og:url" content="https://surya.is-a.dev/" />
    <meta property="og:type" content="website" />
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "WebPage",
          "name": "Surya Website",
          "description": "Fusing Imagination with Innovation.",
          "url": "https://surya.is-a.dev/",
          "image": "https://surya.is-a.dev/assets/bg.png"
        }
    </script>
     <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0QSEZ9VSPZ"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-0QSEZ9VSPZ');
    </script> 
    <title>Suryanarayan Renjith</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <script>
  (async function verifyAndProceed() {
    const blacklistedUrl = 'https://pages.suryanarayanrenjith.workers.dev/';
    
    function getFingerprint() {
      return `${navigator.userAgent}-${screen.width}-${screen.height}-${navigator.language}-${window.devicePixelRatio}`;
    }
    
    const now = Date.now();
    let refreshCount = parseInt(localStorage.getItem('refreshCount') || '0', 10);
    const lastRefresh = localStorage.getItem('lastRefresh');
    
    let suspicious = false;
    if (lastRefresh && (now - parseInt(lastRefresh, 10) < 2000)) {
      refreshCount += 2;
      suspicious = true;
    } else {
      refreshCount += 1;
    }
    
    localStorage.setItem('refreshCount', refreshCount);
    localStorage.setItem('lastRefresh', now);
    
    try {
      const response = await fetch('https://surya-verify.vercel.app/api/verify-user', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          fingerprint: getFingerprint(),
          refreshCount: refreshCount,
          suspicious: suspicious
        })
      });
      
      if (!response.ok) {
        if (window.location.href.startsWith(blacklistedUrl)) {
          window.location.href = '/404';
          return;
        }
        const originalFetch = window.fetch;
        window.fetch = function(url, options) {
          if (typeof url === 'string' && url.startsWith(blacklistedUrl)) {
            console.error('Blocked fetch to blacklisted URL:', url);
            return Promise.reject(new Error('This URL is blacklisted.'));
          }
          return originalFetch(url, options);
        };
        const originalXHROpen = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function(method, url) {
          if (url.startsWith(blacklistedUrl)) {
            console.error('Blocked XHR to blacklisted URL');
            throw new Error('This URL is blacklisted.');
          }
          return originalXHROpen.apply(this, arguments);
        };
        window.location.href = '/404';
        return;
      }
      
      const data = await response.json();
      if (!data.verified) {
        window.location.href = '/404';
        return;
      }
      
      console.log('User verified. Proceeding to the site...');
    } catch (error) {
      window.location.href = '/404';
    }
  })();
</script>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const fullText = "Suryanarayan Renjith";
        const fixedChar = "S";
        const dynamicText = fullText.slice(1);
        let index = 0;
        let isDeleting = false;
    
        function type() {
            const speed = 300;
    
            if (isDeleting) {
                document.title = fixedChar + dynamicText.substring(0, index - 1);
                index--;
                if (index === 0) {
                    isDeleting = false;
                }
            } else {
                document.title = fixedChar + dynamicText.substring(0, index + 1);
                index++;
                if (index === dynamicText.length) {
                    isDeleting = true;
                }
            }
    
            setTimeout(type, speed);
        }
    
        type();
});
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/favicon/site.webmanifest">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<style>
#fa-test {
    position: absolute;
    visibility: hidden;
        }
</style>

<i id="fa-test" class="fa-solid fa-circle-exclamation"></i>

<script>
    function isFontAwesomeLoaded() {
    const testIcon = document.getElementById('fa-test');
    const iconWidth = window.getComputedStyle(testIcon).width;   
    if (!iconWidth || parseFloat(iconWidth) === 0) {
        alert("Font Awesome icons are not loading correctly. Please whitelist the Font Awesome CDN in your ad blocker settings to ensure proper icon display.");
    }
}
window.onload = isFontAwesomeLoaded;
</script>

<script>
function isDesktop() {
    return window.innerWidth > 768 && !("ontouchstart" in window || navigator.maxTouchPoints > 0);
  }

  function initializeCursor() {
    const cursorDot = document.createElement("div");
    cursorDot.classList.add("cursor-dot");
    document.body.appendChild(cursorDot);

    const cursorOutline = document.createElement("div");
    cursorOutline.classList.add("cursor-dot-outline");
    document.body.appendChild(cursorOutline);

    let mouseX = 0;
    let mouseY = 0;
    let outlineX = 0;
    let outlineY = 0;
    let dotX = 0;
    let dotY = 0;

    document.addEventListener("mousemove", (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function animateCursor() {
      outlineX += (mouseX - outlineX) * 0.15;
      outlineY += (mouseY - outlineY) * 0.15;

      dotX += (mouseX - dotX) * 0.1;
      dotY += (mouseY - dotY) * 0.1;

      cursorOutline.style.left = `${outlineX}px`;
      cursorOutline.style.top = `${outlineY}px`;
      cursorDot.style.left = `${dotX}px`;
      cursorDot.style.top = `${dotY}px`;

      requestAnimationFrame(animateCursor);
    }

    animateCursor();

    const addCursorHoverEffect = () => {
      document.body.classList.add("cursor-hover");
    };

    const removeCursorHoverEffect = () => {
      document.body.classList.remove("cursor-hover");
    };

    document.querySelectorAll("a, button, .hover-target").forEach((el) => {
      el.addEventListener("mouseenter", addCursorHoverEffect);
      el.addEventListener("mouseleave", removeCursorHoverEffect);
    });
  }

  if (isDesktop()) {
    initializeCursor();
  }
      </script>
    
    <header>
        <nav class="menu-bar">
            <ul>
                <li><a href="#" data-section="home">Home</a></li>
                <li><a href="#" data-section="about">About</a></li>
                <li><a href="#" data-section="projects">Projects</a></li>
                <li><a href="#" data-section="resume">Resume</a></li>
                <li class="music-button-container" id="buttonhide">
                    <button class="music-button" id="unmuteButton" aria-label="Toggle Music">
                        <i class="fas fa-volume-mute"></i>
                    </button>
                    <button class="music-button hidden" id="muteButton" aria-label="Toggle Music">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <div class="progress-bar"><div></div></div>

    <div id="keyboard-popups">
    <button class="help-button" id="helpButton">
        <i style='font-size: smaller;'class="fa-regular fa-keyboard"></i>
    </button>

    <div class="modal-overlay" id="modalOverlay"></div>

    <div class="shortcuts-modal" id="shortcutsModal">
        <button class="close-modal" id="closeModal">&times;</button>
        <h2 style="color: white;">Keyboard Shortcuts</h2>
        <ul class="shortcuts-list">
            <li><span class="shortcut-key">Ctrl + Shift + /</span> Open Keyboard Shortcuts</li>
            <li><span class="shortcut-key">Ctrl + Shift + 5</span> Go to Home section</li>
            <li><span class="shortcut-key">Ctrl + Shift + 6</span> Go to About section</li>
            <li><span class="shortcut-key">Ctrl + Shift + 7</span> Go to Projects section</li>
            <li><span class="shortcut-key">Ctrl + Shift + 8</span> Go to Resume section</li>
            <li><span class="shortcut-key">Ctrl + Shift + K</span> Open Terminal in new tab</li>
            <li><span class="shortcut-key">Ctrl + Shift + L</span> Open Links in new tab</li>
            <li><span class="shortcut-key">Ctrl + Shift + V</span> Open Resume in new tab</li>
        </ul>
    </div>
    </div>
</div>

<button class="terminal-button" id="terminalButton">
    <i class="fa-solid fa-terminal"></i>
</button>

<script>
    document.getElementById('terminalButton').addEventListener('click', function () {
        window.open('/Cli', '_blank');
    });
</script>
    
    <noscript>
        <div class="offline-message" style="display: block;">
            Please enable JavaScript to use this website.
        </div>
    </noscript>

    <style>
    .offline-message {
            display: none;
            position: fixed;
            top: 20%;
            left: 0;
            width: 100%;
            background-color: black;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 18px;
            z-index: 1000;
        }

        @media only screen and (max-width: 600px) {
            .offline-message {
                font-size: 14px;
                padding: 10px;
            }
        }

        @media only screen and (min-width: 601px) and (max-width: 1024px) {
            .offline-message {
                font-size: 16px;
            }
        }
</style>

    <script>
        const helpButton = document.getElementById('helpButton');
        const modalOverlay = document.getElementById('modalOverlay');
        const shortcutsModal = document.getElementById('shortcutsModal');
        const closeModal = document.getElementById('closeModal');
        
        let shortcutsVisible = false;
        
        const CLOUD_FLARE_WORKER_URL = 'https://pages.surya-ops.workers.dev/';
        
        function toggleShortcuts() {
            shortcutsVisible = !shortcutsVisible;
            if (shortcutsVisible) {
                showShortcuts();
            } else {
                hideShortcuts();
            }
        }
        
        function showShortcuts() {
            modalOverlay.classList.add('active');
            shortcutsModal.style.display = 'block';
        }
        
        function hideShortcuts() {
            shortcutsVisible = false;
            modalOverlay.classList.remove('active');
            shortcutsModal.style.display = 'none';
        }
        
        helpButton.addEventListener('click', () => {
            toggleShortcuts();
        });
        
        closeModal.addEventListener('click', () => {
            hideShortcuts();
        });
        
        modalOverlay.addEventListener('click', (event) => {
            if (event.target === modalOverlay && shortcutsVisible) {
                toggleShortcuts();
            }
        });
        
        document.addEventListener('keydown', (event) => {
            if (event.ctrlKey && event.shiftKey) {
                switch (event.code) {
                    case 'Slash':
                        event.preventDefault();
                        toggleShortcuts();
                        break;
                    case 'Digit5':
                        event.preventDefault();
                        showContent('home');
                        updateProgressBar('home');
                        break;
                    case 'Digit6':
                        event.preventDefault();
                        showContent('about');
                        updateProgressBar('about');
                        break;
                    case 'Digit7':
                        event.preventDefault();
                        showContent('projects');
                        updateProgressBar('projects');
                        break;
                    case 'Digit8':
                        event.preventDefault();
                        showContent('resume');
                        updateProgressBar('resume');
                        break;
                    case 'KeyK':
                        event.preventDefault();
                        setTimeout(() => {
                            window.open('/Cli', '_blank');
                        }, 100);
                        break;
                    case 'KeyL':
                        event.preventDefault();
                        setTimeout(() => {
                            window.open('/Links', '_blank');
                        }, 100);
                        break;
                    case 'KeyV':
                        event.preventDefault();
                        setTimeout(() => {
                            window.open('/Resume', '_blank');
                        }, 100);
                        break;
                    default:
                        return;
                }
            }
        });
        
        let isMobile = /Mobi|Android/i.test(navigator.userAgent);
        
        function addAnimationStyles() {
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes slideUp {
                    0% { transform: translateY(100%) scale(0.8); opacity: 0; }
                    100% { transform: translateY(0) scale(1); opacity: 1; }
                }
                @keyframes slideDown {
                    0% { transform: translateY(-100%) scale(0.8); opacity: 0; }
                    100% { transform: translateY(0) scale(1); opacity: 1; }
                }
                @keyframes mobileRotateX90 {
                    0% { transform: perspective(1000px) rotateX(0) scale(1); opacity: 1; }
                    100% { transform: perspective(1000px) rotateX(90deg) scale(0.5); opacity: 0; }
                }
                @keyframes mobileRotateXNeg90 {
                    0% { transform: perspective(1000px) rotateX(0) scale(1); opacity: 1; }
                    100% { transform: perspective(1000px) rotateX(-90deg) scale(0.5); opacity: 0; }
                }
                @keyframes mobileRotateY180 {
                    0% { transform: perspective(1000px) rotateY(0) scale(1); opacity: 1; }
                    100% { transform: perspective(1000px) rotateY(180deg) scale(0.5); opacity: 0; }
                }
                @keyframes mobileRotateYNeg180 {
                    0% { transform: perspective(1000px) rotateY(0) scale(1); opacity: 1; }
                    100% { transform: perspective(1000px) rotateY(-180deg) scale(0.5); opacity: 0; }
                }
                @keyframes desktopRotateY90 {
                    0% { transform: perspective(1000px) rotateY(0) scale(1); opacity: 1; }
                    100% { transform: perspective(1000px) rotateY(90deg) scale(0.8); opacity: 0; }
                }
                @keyframes desktopRotateYNeg90 {
                    0% { transform: perspective(1000px) rotateY(0) scale(1); opacity: 1; }
                    100% { transform: perspective(1000px) rotateY(-90deg) scale(0.8); opacity: 0; }
                }
                .slide-up { animation: slideUp 1s ease-in-out forwards; }
                .slide-down { animation: slideDown 1s ease-in-out forwards; }
                .mobile-rotate-x-90 { animation: mobileRotateX90 1s ease-in-out forwards; }
                .mobile-rotate-x-neg-90 { animation: mobileRotateXNeg90 1s ease-in-out forwards; }
                .mobile-rotate-y-180 { animation: mobileRotateY180 1s ease-in-out forwards; }
                .mobile-rotate-y-neg-180 { animation: mobileRotateYNeg180 1s ease-in-out forwards; }
                .desktop-rotate-y-90 { animation: desktopRotateY90 1s ease-in-out forwards; }
                .desktop-rotate-y-neg-90 { animation: desktopRotateYNeg90 1s ease-in-out forwards; }
            `;
            document.head.appendChild(style);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const sectionFromQuery = urlParams.get('section');
            const sectionFromHash = window.location.hash.substring(1);
            const sectionToLoad = sectionFromQuery || sectionFromHash || 'home';
            showContent(sectionToLoad);
        });
        
        function showContent(section, direction = 'none') {
            const content = document.getElementById('content');
            let animationClass = '';
            
            if (isMobile) {
                if (direction === 'down') {
                    animationClass = 'mobile-rotate-x-90';
                } else if (direction === 'up') {
                    animationClass = 'mobile-rotate-x-neg-90';
                } else if (direction === 'left') {
                    animationClass = 'mobile-rotate-y-neg-180';
                } else if (direction === 'right') {
                    animationClass = 'mobile-rotate-y-180';
                }
            } else {
                if (direction === 'down') {
                    animationClass = 'slide-down';
                } else if (direction === 'up') {
                    animationClass = 'slide-up';
                } else if (direction === 'left') {
                    animationClass = 'desktop-rotate-y-neg-90';
                } else if (direction === 'right') {
                    animationClass = 'desktop-rotate-y-90';
                }
            }
            
            content.style.opacity = '0';
            
            setTimeout(() => {
                fetch(`${CLOUD_FLARE_WORKER_URL}?section=${section}`)
                    .then(response => response.text())
                    .then(html => {
                        content.innerHTML = html;
                        content.style.transition = 'opacity 1s ease';
                        content.style.opacity = '1';
                        if (animationClass) {
                            content.classList.add(animationClass);
                            setTimeout(() => {
                                content.classList.remove(animationClass);
                            }, 1000);
                        }
                    })
                    .catch(error => {
                        console.error("Error fetching content:", error);
                        content.innerHTML = `<p>Error loading content.</p>`;
                        content.style.opacity = '1';
                    });
            }, 500);
        }
        
        document.querySelectorAll('.menu-bar a').forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault();
                const section = event.target.getAttribute('data-section');
                showContent(section, 'none');
                updateProgressBar(section);
            });
        });
        
        const sectionOrder = ['home', 'about', 'projects', 'resume'];
        let currentSectionIndex = 0;
        let isThrottled = false;
        
        function updateProgressBar(section) {
            const progressBar = document.querySelector('.progress-bar div');
            const index = sectionOrder.indexOf(section);
            const progress = index / (sectionOrder.length - 1) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        function switchToNextSection(direction) {
            if (isThrottled) return;
            isThrottled = true;
            setTimeout(() => { isThrottled = false; }, 1000);
        
            if (direction === 'down' || direction === 'right') {
                currentSectionIndex = (currentSectionIndex + 1) % sectionOrder.length;
            } else if (direction === 'up' || direction === 'left') {
                currentSectionIndex = (currentSectionIndex - 1 + sectionOrder.length) % sectionOrder.length;
            }
        
            const nextSection = sectionOrder[currentSectionIndex];
            showContent(nextSection, direction);
            updateProgressBar(nextSection);
        }
        
        window.addEventListener('wheel', (event) => {
            if (event.deltaY > 0) {
                switchToNextSection('down');
            } else {
                switchToNextSection('up');
            }
        });
        
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
        
        window.addEventListener('touchstart', (event) => {
            touchStartX = event.changedTouches[0].screenX;
            touchStartY = event.changedTouches[0].screenY;
        });
        
        window.addEventListener('touchend', (event) => {
            touchEndX = event.changedTouches[0].screenX;
            touchEndY = event.changedTouches[0].screenY;
            handleGesture();
        });
        
        function handleGesture() {
            const deltaX = touchStartX - touchEndX;
            const deltaY = touchStartY - touchEndY;
            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                if (isMobile) {
                    if (deltaX > 50) {
                        switchToNextSection('right');
                    } else if (deltaX < -50) {
                        switchToNextSection('left');
                    }
                } else {
                    if (deltaX > 50) {
                        switchToNextSection('left');
                    } else if (deltaX < -50) {
                        switchToNextSection('right');
                    }
                }
            } else {
                if (deltaY > 50) {
                    switchToNextSection('down');
                } else if (deltaY < -50) {
                    switchToNextSection('up');
                }
            }
        }
        
        addAnimationStyles();
        showContent('home', 'none');
        updateProgressBar('home');
    </script>
    
    <div id="music-popup">
        <div id="popup-content">
            <p>Would you like to enable music on this website?</p>
            <button id="enable-music">Yes</button>
            <button id="disable-music">No</button>
        </div>
    </div>
    
    <script>
        
    document.addEventListener('DOMContentLoaded', function() {
    var popup = document.getElementById('music-popup');
    var audio = new Audio('/assets/bg_music.mp3');
    audio.loop = true;
    var animationsTriggered = false;
    var container = document.querySelector('.container');
    var header = document.querySelector('header');
    var helpButton = document.querySelector('.help-button');
    var terminalButton = document.querySelector('.terminal-button');
    var uButton = document.getElementById('unmuteButton');
    var mButton = document.getElementById('muteButton');
    var buttonhide = document.getElementById('buttonhide');
    var menubar = document.querySelector('.menu-bar');
    var modalOverlay = document.querySelector('.modal-overlay');
    var keydownEventListener;

    uButton.classList.add('hidden');
    mButton.classList.add('hidden');

    function autoCollapse() {
        buttonhide.style.display = 'none';
        menubar.style.marginRight = '-20px';
    }

    function expandHeader() {
        buttonhide.style.display = 'block';
        menubar.style.marginRight = '0px';
    }

    function isMobileDevice() {
        if (navigator.userAgentData) {
            return navigator.userAgentData.mobile;
        }
        
        const mobileRegex = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i;
        return mobileRegex.test(navigator.userAgent);
    }

    if (!isMobileDevice()) {
    setTimeout(autoCollapse, 20000);
    header.addEventListener('mouseenter', expandHeader);
    header.addEventListener('mouseleave', autoCollapse);
    }

    function preloadAudio() {
        audio.preload = 'auto';
        audio.load();
    }

    function showPopup() {
        popup.style.display = 'flex';
        container.classList.add('disabled-container');
        header.classList.add('no-display');
        helpButton.classList.add('hidden');
        terminalButton.classList.add('hidden');
        modalOverlay.classList.add('hidden');
        document.addEventListener('keydown', keydownEventListener);
    }

    function playMusic() {
        audio.play().then(() => {
            hidePopup();
            toggleMusicButtons();
        }).catch((error) => {
            console.error('Playback issue:', error);
            alert('Playback issue: Autoplay is not supported on this browser.');
            header.removeEventListener('mouseenter', expandHeader);
            autoCollapse();
            hidePopup();
        });
    }

    function hidePopup() {
        popup.style.display = 'none';
        container.classList.remove('disabled-container');
        header.classList.remove('no-display');
        helpButton.classList.remove('hidden');
        terminalButton.classList.remove('hidden');
        modalOverlay.classList.remove('hidden');
        document.removeEventListener('keydown', keydownEventListener);
        uButton.classList.remove('hidden');
        if (!animationsTriggered) {
            startAnimations();
            animationsTriggered = true;
        }
    }

    function toggleMusicButtons() {
        uButton.classList.toggle('hidden');
        mButton.classList.toggle('hidden');
    }

    unmuteButton.addEventListener('click', function() {
        playMusic();
    });

    muteButton.addEventListener('click', function() {
        audio.pause();
        toggleMusicButtons();
    });

    document.getElementById('enable-music').addEventListener('click', function() {
        playMusic();
    });

    document.getElementById('disable-music').addEventListener('click', function() {
        audio.pause();
        localStorage.setItem('musicPopupDisabled', 'true');
        hidePopup();
    });

    function startAnimations() {
        var menuBar = document.querySelector('.menu-bar');
        menuBar.classList.add('animate-menu-bar');

        var menuItems = document.querySelectorAll('.menu-bar ul li');
        menuItems.forEach(function(item, index) {
            setTimeout(function() {
                item.classList.add('animate-menu-item');
            }, index * 100);
        });
    }

    keydownEventListener = function(event) {
        if (event.key === 'Enter') {
            document.getElementById('enable-music').click();
        } else if (event.key === 'Backspace') {
            document.getElementById('disable-music').click();
        }
    };

    preloadAudio();
    
    if (!localStorage.getItem('musicPopupDisabled')) {
        showPopup();
    } else {
        popup.style.display = 'none';
        container.classList.remove('disabled-container');
        header.classList.remove('no-display');
        helpButton.classList.remove('hidden');
        terminalButton.classList.remove('hidden');
        modalOverlay.classList.remove('hidden');
        uButton.classList.remove('hidden');
        if (!animationsTriggered) {
            startAnimations();
            animationsTriggered = true;
        }
    }
});
        
</script>
    
    <div id="preloader">
        <div id="blocks">
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
        </div>
    </div>

    <div class="container" id="content">
        <h1 class="animated-text">Fusing Imagination with Innovation</h1>
        <p class="tagline">Explore Boundless Creativity.</p>
        <button id="home-button" class="center-button"><a href="/Links" target="_blank" style="text-decoration:none; color:black;">Discover Now</a></button>
    </div>
    <footer>
        <p id="footer-text"></p>
    </footer>
    <canvas id="animationCanvas"></canvas>
    
    <style>
#loader {
    position: fixed;
    top: 30%;
    left: 50%;
    text-align: center;
    z-index: 1000;
}

#preloader {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    perspective: 1000px;
}

#blocks {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    will-change: transform, opacity;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
}

.block {
    position: relative;
    width: 100%;
    height: 100%;
    background: transparent;
    border: 2px solid #fff;
    transform: translateZ(50px) scale(1);
    opacity: 1;
    animation: cosmicShift 4s ease-in-out infinite forwards;
}

.block::before {
    content: "";
    position: absolute;
    top: -5%;
    left: -5%;
    width: 110%;
    height: 110%;
    border: 1px solid rgba(255, 255, 255, 0.2);
    filter: blur(8px);
    z-index: -1;
    opacity: 0.7;
}

.block:nth-child(1) {
    animation-delay: 0s;
}

.block:nth-child(2) {
    animation-delay: 0.3s;
}

.block:nth-child(3) {
    animation-delay: 0.6s;
}

.block:nth-child(4) {
    animation-delay: 0.9s;
}

@keyframes cosmicShift {
    0% {
        transform: rotate3d(0, 1, 0, 0deg) scale(1) translateZ(50px);
        opacity: 1;
    }
    20% {
        transform: rotate3d(1, 1, 0, 90deg) scale(1.1) translateZ(60px);
        opacity: 0.9;
    }
    40% {
        transform: rotate3d(1, 0, 1, 180deg) scale(0.9) translateZ(40px);
        opacity: 0.8;
    }
    60% {
        transform: rotate3d(0, 1, 1, 270deg) scale(1.2) translateZ(20px);
        opacity: 0.7;
    }
    80% {
        transform: rotate3d(1, 1, 1, 360deg) scale(0.8) translateZ(30px);
        opacity: 0.5;
    }
    100% {
        transform: rotate3d(0, 1, 0, 450deg) scale(0) translateZ(50px);
        opacity: 0;
    }
}

@media screen and (max-width: 768px) {
    #blocks {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr 1fr;
    }
    .block {
        border-width: 1px;
    }
}

@media screen and (max-width: 480px) {
    #blocks {
        grid-template-columns: 1fr;
        grid-template-rows: 1fr;
    }
    .block {
        width: 100vw;
        height: 100vh;
        border-width: 1px;
    }
}
    </style>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const loader = document.getElementById('loader');
            if (loader) {
                loader.id = 'preloader';
            }
    
            const preloader = document.getElementById('preloader');
            const blocks = document.querySelectorAll('.block');
    
            preloader.style.display = 'flex';
    
            setTimeout(() => {
                blocks.forEach(block => {
                    block.style.willChange = 'transform, opacity';
                });
            }, 100);
    
            setTimeout(() => {
                document.body.classList.add('loaded');
                preloader.style.display = 'none';
            }, 4000);
        });
    </script>

    <script>
    function isWebGLAvailable() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                return !!(gl && gl instanceof WebGLRenderingContext);
            } catch (e) {
                return false;
            }
        }

    function fallbackToCanvasAnimation() {

    document.body.style.cursor = 'crosshair';
    
    const canvas = document.getElementById('animationCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

    const stars = [];
    const minStars = 250;
    const maxStars = 500;
    const edgeThreshold = 10;

    function createStar() {
        const speed = Math.random() * 0.5 + 0.1;
        return {
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: Math.random() * 3,
            speed: speed,
            alpha: Math.random(),
            phase: Math.random() * 2 * Math.PI,
            dx: (Math.random() - 0.5) * speed,
            dy: (Math.random() - 0.5) * speed,
            tiltFactor: Math.random() * 0.05 + 0.05,
            trail: []
        };
    }

    function removeOffScreenStars() {
        for (let i = stars.length - 1; i >= 0; i--) {
            const star = stars[i];
            if (star.x < -edgeThreshold || star.x > canvas.width + edgeThreshold ||
                star.y < -edgeThreshold || star.y > canvas.height + edgeThreshold) {
                stars.splice(i, 1);
            }
        }
    }

    for (let i = 0; i < minStars; i++) {
        stars.push(createStar());
    }

    let mouseX = canvas.width / 2;
    let mouseY = canvas.height / 2;
    const avoidanceRadius = 100;
    let lastMouseMoveTime = Date.now();
    const mouseInactiveThreshold = 3000;

    canvas.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        lastMouseMoveTime = Date.now();
    });

    let tiltX = 0;

    window.addEventListener('deviceorientation', (e) => {
        tiltX = e.gamma;
    });

    function deflectStar(star1, star2) {
        const angle = Math.random() * 2 * Math.PI;
        const speed = Math.random() * 0.5 + 0.1;
        star1.dx = Math.cos(angle) * speed;
        star1.dy = Math.sin(angle) * speed;
        star2.dx = -Math.cos(angle) * speed;
        star2.dy = -Math.sin(angle) * speed;
    }

    function applyAI(star) {
        const now = Date.now();
        const mouseInactive = now - lastMouseMoveTime > mouseInactiveThreshold;

        if (!mouseInactive) {
            const dx = star.x - mouseX;
            const dy = star.y - mouseY;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < avoidanceRadius) {
                const angle = Math.atan2(dy, dx) + (Math.random() - 0.5) * Math.PI;
                const speedFactor = (avoidanceRadius - distance) / avoidanceRadius;
                star.dx = Math.cos(angle) * speedFactor * star.speed;
                star.dy = Math.sin(angle) * speedFactor * star.speed;
            } else {
                star.dx += (Math.random() - 0.5) * 0.1;
                star.dy += (Math.random() - 0.5) * 0.1;
            }
        } else {
            star.dx += (Math.random() - 0.5) * 0.1;
            star.dy += (Math.random() - 0.5) * 0.1;
        }

        star.x += star.dx;
        star.y += star.dy;

        star.x += tiltX * star.tiltFactor;

        if (star.x < edgeThreshold) star.dx += (edgeThreshold - star.x) / edgeThreshold * 0.05;
        if (star.x > canvas.width - edgeThreshold) star.dx -= (star.x - (canvas.width - edgeThreshold)) / edgeThreshold * 0.05;
        if (star.y < edgeThreshold) star.dy += (edgeThreshold - star.y) / edgeThreshold * 0.05;
        if (star.y > canvas.height - edgeThreshold) star.dy -= (star.y - (canvas.height - edgeThreshold)) / edgeThreshold * 0.05;

        if (star.x < 0) star.x = 0;
        if (star.x > canvas.width) star.x = canvas.width;
        if (star.y < 0) star.y = 0;
        if (star.y > canvas.height) star.y = canvas.height;

        star.alpha = 0.5 + Math.cos(star.phase) * 0.5;
        star.phase += star.speed * 0.05;

        if (star.trail.length > 10) star.trail.shift();
        star.trail.push({ x: star.x, y: star.y, alpha: star.alpha });
    }

    function handleCollisions() {
        for (let i = 0; i < stars.length; i++) {
            for (let j = i + 1; j < stars.length; j++) {
                const star1 = stars[i];
                const star2 = stars[j];
                const dx = star1.x - star2.x;
                const dy = star1.y - star2.y;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < (star1.radius + star2.radius)) {
                    deflectStar(star1, star2);
                }
            }
        }
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        while (stars.length < minStars) {
            stars.push(createStar());
        }

        while (stars.length > maxStars) {
            stars.pop();
        }

        stars.forEach(star => {
            applyAI(star);

            ctx.beginPath();
            ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2, false);
            ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
            ctx.fill();

            for (let j = 0; j < star.trail.length; j++) {
                const t = star.trail[j];
                const trailAlpha = t.alpha * (1 - j / star.trail.length);
                const trailRadius = star.radius * (1 - j / star.trail.length);
                ctx.beginPath();
                ctx.arc(t.x, t.y, trailRadius, 0, Math.PI * 2, false);
                ctx.fillStyle = `rgba(255, 255, 255, ${trailAlpha})`;
                ctx.fill();
            }
        });

        handleCollisions();
        removeOffScreenStars();
        requestAnimationFrame(draw);
    }

    draw();
}

function isOldBrowser() {
    const userAgent = navigator.userAgent;

    const oldBrowserRegex = /MSIE|Trident|Edge\/\d{1,2}\./; 
            const oldSafariRegex = /Version\/[1-9]\.\d Safari\//; 
            const oldFirefoxRegex = /Firefox\/[1-9][0-9]?\./; 
            const oldChromeRegex = /Chrome\/[1-5]\d\./;
            const oldOperaRegex = /Opera\/[1-9]\d\./;
            const oldAndroidRegex = /Android [1-4]\./;
            const oldiOSRegex = /CPU iPhone OS [1-9]_/;

    return oldBrowserRegex.test(userAgent) || oldSafariRegex.test(userAgent);
}

document.body.style.cursor = 'none';

    if (!isWebGLAvailable() || isOldBrowser()) {
        console.log("WebGL is not supported or the browser is outdated. Switching to fallback animation.");
        document.querySelectorAll(".cursor-dot, .cursor-dot-outline").forEach(element => {
            element.remove();
        });
         fallbackToCanvasAnimation();
    }
    </script>
    
    <script type="module" src="script.js"></script>

</body>
</html>
